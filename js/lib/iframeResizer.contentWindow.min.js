/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v0.1.0 - 2013-08-21
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: jquery.iframeSizer.min.js on host page.
 *  Copyright: (c) 2013 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT and GPL
 */

(function () { let e = ''; let t = null; let n = 0; let r = 0; const i = 10; let s = !1; const o = '[iFrameSizer]'; let u = !0; msgIdLen = o.length; try { function a (e, t) { window.addEventListener ? window.addEventListener(e, t, !1) : window.attachEvent && window.attachEvent('on' + e, t) } function f (t) { s && window.console && console.log(o + ' ' + t + ' (' + e + ')') } function l (t) { window.console && console.warn(o + ' ' + t + ' (' + e + ')') } function c (l) { function c () { function n (e) { return e === 'true' ? !0 : !1 } function r () { document.body.style.margin = d + 'px', f('Body margin set to ' + d + 'px') } function o () { a('resize', function () { p('Window resized') }) } function u () { interval !== 0 && (f('setInterval: ' + interval), setInterval(function () { p('setInterval') }, interval)) } const c = l.data.substr(msgIdLen).split(':'); e = c[0], d = parseInt(c[1], i), v = n(c[2]), s = n(c[3]), interval = parseInt(c[4], i), t = l.source, f('Initialising iframe'), r(), o(), u() } function h (e) { return parseInt(document.body['offset' + e], i) } function p (i) { const s = h('Height') + 2 * d; const u = h('Width') + 2 * d; let a; if (n !== s || v && r !== u)n = s, r = u, a = e + ':' + n + ':' + r, f('Trigger event: ' + i), f('Sending msg to host page (' + a + ')'), t.postMessage(o + a, '*') } let d, v; o === l.data.substr(0, msgIdLen) && u && (u = !1, c(), p('Document Loaded')) }a('message', c) } catch (h) { l(h) } })()
